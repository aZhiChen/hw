### 一、实验要求：

> - DDL：2021年3月30号 23:59
> - 提交的内容：将**3个assignment的代码**和**实验报告**放到**压缩包**中，命名为“**lab3-姓名-学号**”，并交到课程网站上[http://course.dds-sysu.tech/course/3/homework]
> - **材料的Example的代码放置在`src`目录下**。

1. 实验不限语言， C/C++/Rust都可以。
2. 实验不限平台， Windows、Linux和MacOS等都可以。
3. 实验不限CPU， ARM/Intel/Risc-V都可以。



### 二、实验内容：

####  Assignment 1

#####  1.1

复现Example 1，说说你是怎么做的并提供结果截图，也可以参考Ucore、Xv6等系统源码，实现自己的LBA方式的磁盘访问。

##### 1.2

在Example1中，我们使用了LBA28的方式来读取硬盘。此时，我们只要给出逻辑扇区号即可，但需要手动去读取I/O端口。然而，BIOS提供了实模式下读取硬盘的中断，其不需要关心具体的I/O端口，只需要给出逻辑扇区号对应的磁头（Heads）、扇区（Sectors）和柱面（Cylinder）即可，又被称为CHS模式。现在，同学们需要将LBA28读取硬盘的方式换成CHS读取，同时给出逻辑扇区号向CHS的转换公式。最后说说你是怎么做的并提供结果截图，可以参考《于渊：一个操作系统的实现2》P183-184。

####  Assignment 2

复现Example 2，使用gdb或其他debug工具在进入保护模式的4个重要步骤上设置断点，并结合代码、寄存器的内容等来分析这4个步骤，最后附上结果截图。gdb的使用可以参考appendix的“debug with gdb and qemu”部份。

####  Assignment 3

改造“Lab2-Assignment 4”为32位代码，即在保护模式后执行自定义的汇编程序。

### 三、实验过程：
见实验报告。

### 四、实验感想：

此次实验主要有以下收获：

1、学会了两种不同形式的读取硬盘的方法。一种是LBA模式，一种是CHS模式。了解了这两种对硬盘的读取模式后，会对物理地址和逻辑地址之间的关系有进一步的了解。

2、学会了调试。学会调试对以后的实验会有很大帮助。

3、了解和实现了从实模式到保护模式的转换，以及如何在保护模式下运行用汇编语言编写的程序。但自我感觉对保护模式的一些操作还不是特别熟悉。
